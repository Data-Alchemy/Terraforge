import{_ as Q,a as p,b as _}from"./tslib.b1c82df0.js";import{r as o}from"./react.db2dcf05.js";import{f as q,z as G,R as J}from"./react-remove-scroll-bar.4961c2f8.js";import{c as K,e as U}from"./use-sidecar.6d3321d1.js";import{a as H,F as V,j as B}from"./react-icons.12d2e325.js";import{u as O}from"./use-callback-ref.b3e5676d.js";import{s as ee}from"./react-style-singleton.4e5143d0.js";var Z=K(),X=function(){},N=o.exports.forwardRef(function(e,t){var a=o.exports.useRef(null),l=o.exports.useState({onScrollCapture:X,onWheelCapture:X,onTouchMoveCapture:X}),c=l[0],f=l[1],s=e.forwardProps,i=e.children,S=e.className,g=e.removeScrollBar,b=e.enabled,C=e.shards,w=e.sideCar,y=e.noIsolation,R=e.inert,r=e.allowPinchZoom,n=e.as,d=n===void 0?"div":n,h=Q(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),v=w,m=O([a,t]),u=p(p({},h),c);return H(V,{children:[b&&B(v,{sideCar:Z,removeScrollBar:g,shards:C,noIsolation:y,inert:R,setCallbacks:f,allowPinchZoom:!!r,lockRef:a}),s?o.exports.cloneElement(o.exports.Children.only(i),p(p({},u),{ref:m})):B(d,{...p({},u,{className:S,ref:m}),children:i})]})});N.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};N.classNames={fullWidth:q,zeroRight:G};var Y=!1;if(typeof window<"u")try{var L=Object.defineProperty({},"passive",{get:function(){return Y=!0,!0}});window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{Y=!1}var x=Y?{passive:!1}:!1,re=function(e){return e.tagName==="TEXTAREA"},j=function(e,t){var a=window.getComputedStyle(e);return a[t]!=="hidden"&&!(a.overflowY===a.overflowX&&!re(e)&&a[t]==="visible")},te=function(e){return j(e,"overflowY")},ae=function(e){return j(e,"overflowX")},D=function(e,t){var a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var l=F(e,a);if(l){var c=z(e,a),f=c[1],s=c[2];if(f>s)return!0}a=a.parentNode}while(a&&a!==document.body);return!1},ne=function(e){var t=e.scrollTop,a=e.scrollHeight,l=e.clientHeight;return[t,a,l]},oe=function(e){var t=e.scrollLeft,a=e.scrollWidth,l=e.clientWidth;return[t,a,l]},F=function(e,t){return e==="v"?te(t):ae(t)},z=function(e,t){return e==="v"?ne(t):oe(t)},le=function(e,t){return e==="h"&&t==="rtl"?-1:1},ce=function(e,t,a,l,c){var f=le(e,window.getComputedStyle(t).direction),s=f*l,i=a.target,S=t.contains(i),g=!1,b=s>0,C=0,w=0;do{var y=z(e,i),R=y[0],r=y[1],n=y[2],d=r-n-f*R;(R||d)&&F(e,i)&&(C+=d,w+=R),i=i.parentNode}while(!S&&i!==document.body||S&&(t.contains(i)||t===i));return(b&&(c&&C===0||!c&&s>C)||!b&&(c&&w===0||!c&&-s>w))&&(g=!0),g},T=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},I=function(e){return[e.deltaX,e.deltaY]},A=function(e){return e&&"current"in e?e.current:e},ie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},se=0,k=[];function fe(e){var t=o.exports.useRef([]),a=o.exports.useRef([0,0]),l=o.exports.useRef(),c=o.exports.useState(se++)[0],f=o.exports.useState(function(){return ee()})[0],s=o.exports.useRef(e);o.exports.useEffect(function(){s.current=e},[e]),o.exports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var r=_([e.lockRef.current],(e.shards||[]).map(A),!0).filter(Boolean);return r.forEach(function(n){return n.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),r.forEach(function(n){return n.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var i=o.exports.useCallback(function(r,n){if("touches"in r&&r.touches.length===2)return!s.current.allowPinchZoom;var d=T(r),h=a.current,v="deltaX"in r?r.deltaX:h[0]-d[0],m="deltaY"in r?r.deltaY:h[1]-d[1],u,M=r.target,E=Math.abs(v)>Math.abs(m)?"h":"v";if("touches"in r&&E==="h"&&M.type==="range")return!1;var P=D(E,M);if(!P)return!0;if(P?u=E:(u=E==="v"?"h":"v",P=D(E,M)),!P)return!1;if(!l.current&&"changedTouches"in r&&(v||m)&&(l.current=u),!u)return!0;var W=l.current||u;return ce(W,n,r,W==="h"?v:m,!0)},[]),S=o.exports.useCallback(function(r){var n=r;if(!(!k.length||k[k.length-1]!==f)){var d="deltaY"in n?I(n):T(n),h=t.current.filter(function(u){return u.name===n.type&&u.target===n.target&&ie(u.delta,d)})[0];if(h&&h.should){n.cancelable&&n.preventDefault();return}if(!h){var v=(s.current.shards||[]).map(A).filter(Boolean).filter(function(u){return u.contains(n.target)}),m=v.length>0?i(n,v[0]):!s.current.noIsolation;m&&n.cancelable&&n.preventDefault()}}},[]),g=o.exports.useCallback(function(r,n,d,h){var v={name:r,delta:n,target:d,should:h};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(m){return m!==v})},1)},[]),b=o.exports.useCallback(function(r){a.current=T(r),l.current=void 0},[]),C=o.exports.useCallback(function(r){g(r.type,I(r),r.target,i(r,e.lockRef.current))},[]),w=o.exports.useCallback(function(r){g(r.type,T(r),r.target,i(r,e.lockRef.current))},[]);o.exports.useEffect(function(){return k.push(f),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:w}),document.addEventListener("wheel",S,x),document.addEventListener("touchmove",S,x),document.addEventListener("touchstart",b,x),function(){k=k.filter(function(r){return r!==f}),document.removeEventListener("wheel",S,x),document.removeEventListener("touchmove",S,x),document.removeEventListener("touchstart",b,x)}},[]);var y=e.removeScrollBar,R=e.inert;return H(V,{children:[R?B(f,{styles:ue(c)}):null,y?B(J,{gapMode:"margin"}):null]})}const de=U(Z,fe);var $=o.exports.forwardRef(function(e,t){return B(N,{...p({},e,{ref:t,sideCar:de})})});$.classNames=N.classNames;const we=$;export{we as $};
