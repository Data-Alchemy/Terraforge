import{u as j}from"./devlop.0b871bfb.js";import{F as x,j as R,a as H}from"./react-icons.e18df677.js";import{u as S}from"./unified.0e711101.js";import{r as D}from"./remark-parse.b4333ec5.js";import{r as I}from"./remark-rehype.09aed267.js";import{V as U}from"./vfile.b07cee2c.js";import{v as F}from"./unist-util-visit.e71e369e.js";import{t as M}from"./hast-util-to-jsx-runtime.128a85b1.js";import{u as d}from"./html-url-attributes.c6c5151b.js";const V="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",g=[],w={allowDangerousHtml:!0},q=/^(https?|ircs?|mailto|xmpp)$/i,A=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function X(e){const t=e.allowedElements,a=e.allowElement,m=e.children||"",i=e.className,h=e.components,f=e.disallowedElements,y=e.rehypePlugins||g,k=e.remarkPlugins||g,b=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...w}:w,O=e.skipHtml,v=e.unwrapDisallowed,P=e.urlTransform||J,u=S().use(D).use(k).use(I,b).use(y),c=new U;typeof m=="string"&&(c.value=m);for(const r of A)Object.hasOwn(e,r.from)&&j("Unexpected `"+r.from+"` prop, "+(r.to?"use `"+r.to+"` instead":"remove it")+" (see <"+V+"#"+r.id+"> for more info)");const E=u.parse(c);let n=u.runSync(E,c);return i&&(n={type:"element",tagName:"div",properties:{className:i},children:n.type==="root"?n.children:[n]}),F(n,T),M(n,{Fragment:x,components:h,ignoreInvalidStyle:!0,jsx:R,jsxs:H,passKeys:!0,passNode:!0});function T(r,s,l){if(r.type==="raw"&&l&&typeof s=="number")return O?l.children.splice(s,1):l.children[s]={type:"text",value:r.value},s;if(r.type==="element"){let o;for(o in d)if(Object.hasOwn(d,o)&&Object.hasOwn(r.properties,o)){const N=r.properties[o],p=d[o];(p===null||p.includes(r.tagName))&&(r.properties[o]=P(String(N||""),o,r))}}if(r.type==="element"){let o=t?!t.includes(r.tagName):f?f.includes(r.tagName):!1;if(!o&&a&&typeof s=="number"&&(o=!a(r,s,l)),o&&l&&typeof s=="number")return v&&r.children?l.children.splice(s,1,...r.children):l.children.splice(s,1),s}}}function J(e){const t=e.indexOf(":"),a=e.indexOf("?"),m=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||a>-1&&t>a||m>-1&&t>m||q.test(e.slice(0,t))?e:""}export{X as M};
