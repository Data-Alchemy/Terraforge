import"./react.db2dcf05.js";import{a as s,_ as h}from"./tslib.b1c82df0.js";import{j as v}from"./react-icons.e18df677.js";function l(e){return e}function p(e,n){n===void 0&&(n=l);var r=[],t=!1,d={read:function(){if(t)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(u){var i=n(u,t);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(u){for(t=!0;r.length;){var i=r;r=[],i.forEach(u)}r={push:function(a){return u(a)},filter:function(){return r}}},assignMedium:function(u){t=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(u),i=r}var m=function(){var o=i;i=[],o.forEach(u)},f=function(){return Promise.resolve().then(m)};f(),r={push:function(o){i.push(o),f()},filter:function(o){return i=i.filter(o),r}}}};return d}function E(e){e===void 0&&(e={});var n=p(null);return n.options=s({async:!0,ssr:!1},e),n}var c=function(e){var n=e.sideCar,r=h(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var t=n.read();if(!t)throw new Error("Sidecar medium not found");return v(t,{...s({},r)})};c.isSideCarExport=!0;function M(e,n){return e.useMedium(n),c}export{E as c,M as e};
